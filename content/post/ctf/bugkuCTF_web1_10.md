---
title: bugkuCTF Web 1-10
comments: true
toc: true
description: 闲来无事做了 bugkuCTF Web 的 1-10，稍微总结一下吧，要不白做了emm
categories:
  - ctf
date: 2019-09-05 16:26:02
tags:
---

bugkuCTF web1-10

1. web 2

   养成看网页源码的习惯

2. 计算器

   对一些前端限制(输入/返回长度等)可以在源码中修改

3. web基础

   $_GET   get方式提交变量为:  www.site/doc/?变量名=值

4. 矛盾（重点再看）

   熟悉 php 常用函数, 以及自动/强制类型转换

5. 域名解析

   burp  project  option 下的 hostname resolution 此项配置比较简单，通过这些设置，我们可以指定主机名映射到IP地址，来覆盖本地计算机提供的DNS解析。每个主机名解析规则需要指定主机名，并与主机名相关联的IP地址。同时，每一个规则可以单独启用或禁用来控制其是否生效。当我们在渗透测试中，如果使用了隐形代理来测试富客户端组件，此功能可以确保请求正确转发。

6. 你必须让他停下

   通过抓包重放或区分长度来找flag. 因为 flag 所在图片具有随机性.就像爆破一样.

7. web5

   jsfuck 是在 CTF 中经常出现的一种 JavaScript 加密方式

   加密：[jsfuck](http://www.jsfuck.com/)

   解密网站：[codertab](http://codertab.com/JsUnFuck#)

8. 头等舱

   看源码和抓包（既要看请求也要看响应，内容和头都要看）是作为 Web 安全人员的基本素养，所以这道题能难住我们呢。

   看源码，没啥，抓包看请求没啥，看响应，果然让我得到了flag

9. 网站被黑

   网站被黑，一般黑客留下 shell，以便后续使用。题目说实战中经常遇到是因为很多网站在你发现的时候，有的就已经被搞过了。

   你要做的是猜一下这个网站后端什么语言，比如：尝试加个 index.php啥的试试，因为能减小后续爆破的数据量。

   然后我们用御剑爆破一下后台或 shell 地址 ，找到 shell 地址，最后用 burp 自带的 password 字典跑一下就出来了。

   

   **这里有点好奇网站右键不管用是怎么实现的？有空去查查**

10. 管理员系统

    拿到要攻击的网页不要总想着进行攻击。要先看看源码，抓抓包，使用使用正常功能，摸好情况之后再进行渗透测试。

    本关就是从 bugku 跳转过来那个页面的源码中是有信息的，而我们测试之后，http 头带上了 referer，html 页面还说将 “IP禁止访问，请联系本地管理员登陆，IP已被记录.”，这样里面的信息就没有了。

    总之，看源码，发现 base64 解密得到 test123，有点弱口令的感觉。算了，先试试把它提交 flag，果然不对。还是回到页面登陆试试。

    老说记录 ip 啥的，咱也不懂，网上看了看大佬的 writeup，嗷嗷，要加一个 X-Forward-for 伪装成本地ip：127.0.0.1，登录成功，搞到 flag。

突然发现 bug ctf 有新网址了，赶紧去新的，这个旧的太慢了。

总结归纳：

1. 习惯：拿到网页，攻击之前，先看源码，抓包看数据（请求与响应都看），

2. 前端长度限制

3. php 的自动类型转换

4. 熟悉 jsfuck 这种 js 加密方式

   JSFuck是有效的JavaScript代码，这意味着JSFuck程序可以在任何Web浏览器或引擎中运行解释JavaScript。

   JSFuck可用于绕过网站上提交的恶意代码的检测，例如跨站点脚本（XSS）攻击。JSFuck的另一个潜在用途在于代码混淆。

5. 渗透一个网站前，不妨看看有没有前人留下的shell（先用 index.xxx 猜猜后端语言）
6. burp的几个功能：覆盖本地的域名解析、自带密码字典、重放。
7. X-Forward-For 伪造本地 IP，登录管理员系统。
